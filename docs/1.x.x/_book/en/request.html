
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Request Â· Strapi documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        <meta name="author" content="Strapi">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="response.html" />
    
    
    <link rel="prev" href="context.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <a target="_blank" href="http://strapi.io">
            
                    
                    Website
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <a target="_blank" href="https://github.com/strapi/strapi">
            
                    
                    GitHub
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="./">
            
                <a href="./">
            
                    
                    Documentation
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="introduction.html">
            
                <a href="introduction.html#getting-started">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="introduction.html">
            
                <a href="introduction.html#alternatives">
            
                    
                    Alternatives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="introduction.html">
            
                <a href="introduction.html#key-features">
            
                    
                    Key-features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                    Command-Line Interface
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="cli.html">
            
                <a href="cli.html#login">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="cli.html">
            
                <a href="cli.html#create-a-new-project">
            
                    
                    Create a new project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="cli.html">
            
                <a href="cli.html#start-the-server">
            
                    
                    Start the server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="cli.html">
            
                <a href="cli.html#access-the-console">
            
                    
                    Access the console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="cli.html">
            
                <a href="cli.html#generate-an-api">
            
                    
                    Generate an API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="cli.html">
            
                <a href="cli.html#print-the-strapi-version">
            
                    
                    Print the Strapi version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7" data-path="cli.html">
            
                <a href="cli.html#link-your-application">
            
                    
                    Link your application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.8" data-path="cli.html">
            
                <a href="cli.html#logout">
            
                    
                    Logout
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="configuration.html">
            
                <a href="configuration.html#application-package">
            
                    
                    Application package
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="configuration.html">
            
                <a href="configuration.html#global-settings">
            
                    
                    Global settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="configuration.html">
            
                <a href="configuration.html#general-environment-settings">
            
                    
                    General environment settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="configuration.html">
            
                <a href="configuration.html#request">
            
                    
                    Request
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="configuration.html">
            
                <a href="configuration.html#response">
            
                    
                    Response
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="configuration.html">
            
                <a href="configuration.html#databases">
            
                    
                    Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.7" data-path="configuration.html">
            
                <a href="configuration.html#security">
            
                    
                    Security
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="router.html">
            
                <a href="router.html">
            
                    
                    Router
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="router.html">
            
                <a href="router.html#route-format">
            
                    
                    Route format
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="router.html">
            
                <a href="router.html#route-parameters">
            
                    
                    Route parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="router.html">
            
                <a href="router.html#router-prefix">
            
                    
                    Router prefix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.4" data-path="router.html">
            
                <a href="router.html#policies-and-route-process">
            
                    
                    Policies and route process
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="blueprints.html">
            
                <a href="blueprints.html">
            
                    
                    Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="blueprints.html">
            
                <a href="blueprints.html#find-records">
            
                    
                    find records
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="blueprints.html">
            
                <a href="blueprints.html#findone-record">
            
                    
                    findOne record
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.3" data-path="blueprints.html">
            
                <a href="blueprints.html#create-a-record">
            
                    
                    create a record
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.4" data-path="blueprints.html">
            
                <a href="blueprints.html#update-a-record">
            
                    
                    update a record
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.5" data-path="blueprints.html">
            
                <a href="blueprints.html#destroy-a-record">
            
                    
                    destroy a record
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.6" data-path="blueprints.html">
            
                <a href="blueprints.html#add-to-a-record">
            
                    
                    add to a record
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.7" data-path="blueprints.html">
            
                <a href="blueprints.html#remove-from-a-record">
            
                    
                    remove from a record
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="models.html">
            
                <a href="models.html">
            
                    
                    Models
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="models.html">
            
                <a href="models.html#model-settings">
            
                    
                    Model settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.2" data-path="models.html">
            
                <a href="models.html#associations">
            
                    
                    Associations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.3" data-path="models.html">
            
                <a href="models.html#lifecycle-callbacks">
            
                    
                    Lifecycle Callbacks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="queries.html">
            
                <a href="queries.html">
            
                    
                    Query Language
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" data-path="queries.html">
            
                <a href="queries.html#query-methods">
            
                    
                    Query Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.2" data-path="queries.html">
            
                <a href="queries.html#query-language">
            
                    
                    Query Language
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="graphql.html">
            
                <a href="graphql.html">
            
                    
                    GraphQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1.1" data-path="graphql.html">
            
                <a href="graphql.html#configuration">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.2" data-path="graphql.html">
            
                <a href="graphql.html#execute-simple-query">
            
                    
                    Execute simple query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.1.3" data-path="graphql.html">
            
                <a href="graphql.html#execute-complex-queries">
            
                    
                    Execute complex queries
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="internationalization.html">
            
                <a href="internationalization.html">
            
                    
                    Internationalization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1.1" data-path="internationalization.html">
            
                <a href="internationalization.html#i18n-settings">
            
                    
                    i18n settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.2" data-path="internationalization.html">
            
                <a href="internationalization.html#locales">
            
                    
                    Locales
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.3" data-path="internationalization.html">
            
                <a href="internationalization.html#translate-responses">
            
                    
                    Translate responses
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="sessions.html">
            
                <a href="sessions.html">
            
                    
                    Sessions
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="13.1" data-path="services.html">
            
                <a href="services.html">
            
                    
                    Services
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="views.html">
            
                <a href="views.html">
            
                    
                    Views
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="14.1.1" data-path="views.html">
            
                <a href="views.html#render-a-view">
            
                    
                    Render a view
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.1.2" data-path="views.html">
            
                <a href="views.html#supported-template-engines">
            
                    
                    Supported template engines
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="15.1" data-path="logging.html">
            
                <a href="logging.html">
            
                    
                    Logging
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1.1" data-path="logging.html">
            
                <a href="logging.html#logging-with-metadata">
            
                    
                    Logging with Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.1.2" data-path="logging.html">
            
                <a href="logging.html#string-interpolation">
            
                    
                    String interpolation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.1.3" data-path="logging.html">
            
                <a href="logging.html#logging-levels">
            
                    
                    Logging levels
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="16.1" data-path="context.html">
            
                <a href="context.html">
            
                    
                    Context
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1.1" data-path="context.html">
            
                <a href="context.html#api">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="16.1.2" data-path="context.html">
            
                <a href="context.html#request-aliases">
            
                    
                    Request aliases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="16.1.3" data-path="context.html">
            
                <a href="context.html#response-aliases">
            
                    
                    Response aliases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter active" data-level="17.1" data-path="request.html">
            
                <a href="request.html">
            
                    
                    Request
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="18.1" data-path="response.html">
            
                <a href="response.html">
            
                    
                    Response
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="19.1" data-path="admin.html">
            
                <a href="admin.html">
            
                    
                    Admin
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="19.1.1" data-path="admin.html">
            
                <a href="admin.html#dashboard">
            
                    
                    Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.1.2" data-path="admin.html">
            
                <a href="admin.html#data-explorer">
            
                    
                    Data Explorer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.1.3" data-path="admin.html">
            
                <a href="admin.html#users">
            
                    
                    Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.1.4" data-path="admin.html">
            
                <a href="admin.html#customization">
            
                    
                    Customization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="20.1" data-path="users.html">
            
                <a href="users.html">
            
                    
                    Users
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="20.1.1" data-path="users.html">
            
                <a href="users.html#local-registration">
            
                    
                    Local Registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.2" data-path="users.html">
            
                <a href="users.html#local-login">
            
                    
                    Local Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.3" data-path="users.html">
            
                <a href="users.html#authentication">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.4" data-path="users.html">
            
                <a href="users.html#providers">
            
                    
                    Providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.5" data-path="users.html">
            
                <a href="users.html#custom-providers">
            
                    
                    Custom providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.6" data-path="users.html">
            
                <a href="users.html#forgot-password">
            
                    
                    Forgot password
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.7" data-path="users.html">
            
                <a href="users.html#change-password">
            
                    
                    Change password
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.8" data-path="users.html">
            
                <a href="users.html#accessing-user-from-requests">
            
                    
                    Accessing user from requests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="21.1" data-path="email.html">
            
                <a href="email.html">
            
                    
                    Email
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="21.1.1" data-path="email.html">
            
                <a href="email.html#email-config">
            
                    
                    Email config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.1.2" data-path="email.html">
            
                <a href="email.html#email-service">
            
                    
                    Email service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.1.3" data-path="email.html">
            
                <a href="email.html#email-api">
            
                    
                    Email API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="21.1.4" data-path="email.html">
            
                <a href="email.html#email-model">
            
                    
                    Email model
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="22.1" data-path="upload.html">
            
                <a href="upload.html">
            
                    
                    Upload
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="22.1.1" data-path="upload.html">
            
                <a href="upload.html#upload-config">
            
                    
                    Upload config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.1.2" data-path="upload.html">
            
                <a href="upload.html#upload-service">
            
                    
                    Upload service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.1.3" data-path="upload.html">
            
                <a href="upload.html#upload-api">
            
                    
                    Upload API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.1.4" data-path="upload.html">
            
                <a href="upload.html#upload-model">
            
                    
                    Upload model
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="23.1" data-path="customization.html">
            
                <a href="customization.html">
            
                    
                    Customization
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="24.1" data-path="testing.html">
            
                <a href="testing.html">
            
                    
                    Testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="24.1.1" data-path="testing.html">
            
                <a href="testing.html#setup">
            
                    
                    Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="24.1.2" data-path="testing.html">
            
                <a href="testing.html#boostrap">
            
                    
                    Bootstrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="24.1.3" data-path="testing.html">
            
                <a href="testing.html#writing-tests">
            
                    
                    Writing tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="24.1.4" data-path="testing.html">
            
                <a href="testing.html#running-tests">
            
                    
                    Running tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Request</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="request">Request</h1>
<p>A Strapi <code>Request</code> object is an abstraction on top of Node&apos;s vanilla request object,
providing additional functionality that is useful for every day HTTP server
development.</p>
<h2 id="api">API</h2>
<h3 id="requestheader">request.header</h3>
<p>Request header object.</p>
<h3 id="requestheaders">request.headers</h3>
<p>Request header object. Alias as <code>request.header</code>.</p>
<h3 id="requestmethod">request.method</h3>
<p>Request method.</p>
<h3 id="requestmethod">request.method=</h3>
<p>Set request method, useful for implementing middleware
such as <code>methodOverride()</code>.</p>
<h3 id="requestlength">request.length</h3>
<p>Return request Content-Length as a number when present, or <code>undefined</code>.</p>
<h3 id="requesturl">request.url</h3>
<p>Get request URL.</p>
<h3 id="requesturl">request.url=</h3>
<p>Set request URL, useful for url rewrites.</p>
<h3 id="requestoriginalurl">request.originalUrl</h3>
<p>Get request original URL.</p>
<h3 id="requestorigin">request.origin</h3>
<p>Get origin of URL, include <code>protocol</code> and <code>host</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">this</span>.request.origin
<span class="hljs-comment">// =&gt; http://example.com</span>
</code></pre>
<h3 id="requesthref">request.href</h3>
<p>Get full request URL, include <code>protocol</code>, <code>host</code> and <code>url</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">this</span>.request.href
<span class="hljs-comment">// =&gt; http://example.com/foo/bar?q=1</span>
</code></pre>
<h3 id="requestpath">request.path</h3>
<p>Get request pathname.</p>
<h3 id="requestpath">request.path=</h3>
<p>Set request pathname and retain query-string when present.</p>
<h3 id="requestquerystring">request.querystring</h3>
<p>Get raw query string void of <code>?</code>.</p>
<h3 id="requestquerystring">request.querystring=</h3>
<p>Set raw query string.</p>
<h3 id="requestsearch">request.search</h3>
<p>Get raw query string with the <code>?</code>.</p>
<h3 id="requestsearch">request.search=</h3>
<p>Set raw query string.</p>
<h3 id="requesthost">request.host</h3>
<p>Get host (hostname:port) when present. Supports <code>X-Forwarded-Host</code>
when <code>strapi.app.proxy</code> is <code>true</code>, otherwise <code>Host</code> is used.</p>
<h3 id="requesthostname">request.hostname</h3>
<p>Get hostname when present. Supports <code>X-Forwarded-Host</code>
when <code>strapi.app.proxy</code> is <code>true</code>, otherwise <code>Host</code> is used.</p>
<h3 id="requesttype">request.type</h3>
<p>Get request <code>Content-Type</code> void of parameters such as &quot;charset&quot;.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> ct = <span class="hljs-keyword">this</span>.request.type;
<span class="hljs-comment">// =&gt; &quot;image/png&quot;</span>
</code></pre>
<h3 id="requestcharset">request.charset</h3>
<p>Get request charset when present, or <code>undefined</code>:</p>
<pre><code class="lang-js"><span class="hljs-keyword">this</span>.request.charset
<span class="hljs-comment">// =&gt; &quot;utf-8&quot;</span>
</code></pre>
<h3 id="requestquery">request.query</h3>
<p>Get parsed query-string, returning an empty object when no
query-string is present. Note that this getter does <em>not</em>
support nested parsing.</p>
<p>For example &quot;color=blue&amp;size=small&quot;:</p>
<pre><code class="lang-js">{
  color: <span class="hljs-string">&apos;blue&apos;</span>,
  size: <span class="hljs-string">&apos;small&apos;</span>
}
</code></pre>
<h3 id="requestquery">request.query=</h3>
<p>Set query-string to the given object. Note that this
setter does <em>not</em> support nested objects.</p>
<pre><code class="lang-js"><span class="hljs-keyword">this</span>.query = { next: <span class="hljs-string">&apos;/login&apos;</span> };
</code></pre>
<h3 id="requestfresh">request.fresh</h3>
<p>Check if a request cache is &quot;fresh&quot;, aka the contents have not changed. This
method is for cache negotiation between <code>If-None-Match</code> / <code>ETag</code>, and
<code>If-Modified-Since</code> and <code>Last-Modified</code>. It should be referenced after setting
one or more of these response headers.</p>
<pre><code class="lang-js"><span class="hljs-comment">// freshness check requires status 20x or 304</span>
<span class="hljs-keyword">this</span>.status = <span class="hljs-number">200</span>;
<span class="hljs-keyword">this</span>.set(<span class="hljs-string">&apos;ETag&apos;</span>, <span class="hljs-string">&apos;123&apos;</span>);

<span class="hljs-comment">// cache is ok</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.fresh) {
  <span class="hljs-keyword">this</span>.status = <span class="hljs-number">304</span>;
  <span class="hljs-keyword">return</span>;
}

<span class="hljs-comment">// cache is stale</span>
<span class="hljs-comment">// fetch new data</span>
<span class="hljs-keyword">this</span>.body = <span class="hljs-keyword">yield</span> db.find(<span class="hljs-string">&apos;something&apos;</span>);
</code></pre>
<h3 id="requeststale">request.stale</h3>
<p>Inverse of <code>request.fresh</code>.</p>
<h3 id="requestprotocol">request.protocol</h3>
<p>Return request protocol, &quot;https&quot; or &quot;http&quot;. Supports <code>X-Forwarded-Proto</code>
when <code>strapi.app.proxy</code> is <code>true</code>.</p>
<h3 id="requestsecure">request.secure</h3>
<p>Shorthand for <code>this.protocol == &quot;https&quot;</code> to check if a request was
issued via TLS.</p>
<h3 id="requestip">request.ip</h3>
<p>Request remote address. Supports <code>X-Forwarded-For</code> when <code>strapi.app.proxy</code>
is <code>true</code>.</p>
<h3 id="requestips">request.ips</h3>
<p>When <code>X-Forwarded-For</code> is present and <code>strapi.app.proxy</code> is enabled an array
of these ips is returned, ordered from upstream -&gt; downstream. When disabled
an empty array is returned.</p>
<h3 id="requestsubdomains">request.subdomains</h3>
<p>Return subdomains as an array.</p>
<p>Subdomains are the dot-separated parts of the host before the main domain of
the app. By default, the domain of the app is assumed to be the last two
parts of the host. This can be changed by setting <code>strapi.app.subdomainOffset</code>.</p>
<p>For example, if the domain is &quot;tobi.ferrets.example.com&quot;:
If <code>strapi.app.subdomainOffset</code> is not set, this.subdomains is <code>[&quot;ferrets&quot;, &quot;tobi&quot;]</code>.
If <code>strapi.app.subdomainOffset</code> is 3, this.subdomains is <code>[&quot;tobi&quot;]</code>.</p>
<h3 id="requestistypes">request.is(types...)</h3>
<p>Check if the incoming request contains the &quot;Content-Type&quot;
header field, and it contains any of the give mime <code>type</code>s.
If there is no request body, <code>undefined</code> is returned.
If there is no content type, or the match fails <code>false</code> is returned.
Otherwise, it returns the matching content-type.</p>
<pre><code class="lang-js"><span class="hljs-comment">// With Content-Type: text/html; charset=utf-8</span>
<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;html&apos;</span>); <span class="hljs-comment">// =&gt; &apos;html&apos;</span>
<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;text/html&apos;</span>); <span class="hljs-comment">// =&gt; &apos;text/html&apos;</span>
<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;text/*&apos;</span>, <span class="hljs-string">&apos;text/html&apos;</span>); <span class="hljs-comment">// =&gt; &apos;text/html&apos;</span>

<span class="hljs-comment">// When Content-Type is application/json</span>
<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;json&apos;</span>, <span class="hljs-string">&apos;urlencoded&apos;</span>); <span class="hljs-comment">// =&gt; &apos;json&apos;</span>
<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;application/json&apos;</span>); <span class="hljs-comment">// =&gt; &apos;application/json&apos;</span>
<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;html&apos;</span>, <span class="hljs-string">&apos;application/*&apos;</span>); <span class="hljs-comment">// =&gt; &apos;application/json&apos;</span>

<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;html&apos;</span>); <span class="hljs-comment">// =&gt; false</span>
</code></pre>
<p>For example if you want to ensure that
only images are sent to a given route:</p>
<pre><code class="lang-js"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.is(<span class="hljs-string">&apos;image/*&apos;</span>)) {
  <span class="hljs-comment">// process</span>
} <span class="hljs-keyword">else</span> {
  <span class="hljs-keyword">this</span>.throw(<span class="hljs-number">415</span>, <span class="hljs-string">&apos;images only!&apos;</span>);
}
</code></pre>
<h3 id="content-negotiation">Content Negotiation</h3>
<p>Strapi&apos;s <code>request</code> object includes helpful content negotiation utilities powered by
<a href="http://github.com/expressjs/accepts" target="_blank">accepts</a> and
<a href="https://github.com/federomero/negotiator" target="_blank">negotiator</a>.</p>
<p>These utilities are:</p>
<ul>
<li><code>request.accepts(types)</code></li>
<li><code>request.acceptsEncodings(types)</code></li>
<li><code>request.acceptsCharsets(charsets)</code></li>
<li><code>request.acceptsLanguages(langs)</code></li>
</ul>
<p>If no types are supplied, all acceptable types are returned.</p>
<p>If multiple types are supplied, the best match will be returned. If no matches are found,
a <code>false</code> is returned, and you should send a <code>406 &quot;Not Acceptable&quot;</code> response to the client.</p>
<p>In the case of missing accept headers where any type is acceptable, the first type will
be returned. Thus, the order of types you supply is important.</p>
<h3 id="requestacceptstypes">request.accepts(types)</h3>
<p>Check if the given <code>type(s)</code> is acceptable, returning the best match when true, otherwise
<code>false</code>. The <code>type</code> value may be one or more mime type string
such as &quot;application/json&quot;, the extension name
such as &quot;json&quot;, or an array <code>[&quot;json&quot;, &quot;html&quot;, &quot;text/plain&quot;]</code>.</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept: text/html</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;html&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;html&quot;</span>

<span class="hljs-comment">// Accept: text/*, application/json</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;html&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;html&quot;</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;text/html&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;text/html&quot;</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;json&apos;</span>, <span class="hljs-string">&apos;text&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;json&quot;</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;application/json&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;application/json&quot;</span>

<span class="hljs-comment">// Accept: text/*, application/json</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;image/png&apos;</span>);
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;png&apos;</span>);
<span class="hljs-comment">// =&gt; false</span>

<span class="hljs-comment">// Accept: text/*;q=.5, application/json</span>
<span class="hljs-keyword">this</span>.accepts([<span class="hljs-string">&apos;html&apos;</span>, <span class="hljs-string">&apos;json&apos;</span>]);
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;html&apos;</span>, <span class="hljs-string">&apos;json&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;json&quot;</span>

<span class="hljs-comment">// No Accept header</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;html&apos;</span>, <span class="hljs-string">&apos;json&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;html&quot;</span>
<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;json&apos;</span>, <span class="hljs-string">&apos;html&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;json&quot;</span>
</code></pre>
<p>You may call <code>this.accepts()</code> as many times as you like,
or use a switch:</p>
<pre><code class="lang-js"><span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.accepts(<span class="hljs-string">&apos;json&apos;</span>, <span class="hljs-string">&apos;html&apos;</span>, <span class="hljs-string">&apos;text&apos;</span>)) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">&apos;json&apos;</span>: <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">&apos;html&apos;</span>: <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">&apos;text&apos;</span>: <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">default</span>: <span class="hljs-keyword">this</span>.throw(<span class="hljs-number">406</span>, <span class="hljs-string">&apos;json, html, or text only&apos;</span>);
}
</code></pre>
<h3 id="requestacceptsencodingsencodings">request.acceptsEncodings(encodings)</h3>
<p>Check if <code>encodings</code> are acceptable, returning the best match when true, otherwise <code>false</code>.
Note that you should include <code>identity</code> as one of the encodings!</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept-Encoding: gzip</span>
<span class="hljs-keyword">this</span>.acceptsEncodings(<span class="hljs-string">&apos;gzip&apos;</span>, <span class="hljs-string">&apos;deflate&apos;</span>, <span class="hljs-string">&apos;identity&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;gzip&quot;</span>

<span class="hljs-keyword">this</span>.acceptsEncodings([<span class="hljs-string">&apos;gzip&apos;</span>, <span class="hljs-string">&apos;deflate&apos;</span>, <span class="hljs-string">&apos;identity&apos;</span>]);
<span class="hljs-comment">// =&gt; &quot;gzip&quot;</span>
</code></pre>
<p>When no arguments are given all accepted encodings
are returned as an array:</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept-Encoding: gzip, deflate</span>
<span class="hljs-keyword">this</span>.acceptsEncodings();
<span class="hljs-comment">// =&gt; [&quot;gzip&quot;, &quot;deflate&quot;, &quot;identity&quot;]</span>
</code></pre>
<p>Note that the <code>identity</code> encoding (which means no encoding) could be unacceptable if
the client explicitly sends <code>identity;q=0</code>. Although this is an edge case, you should
still handle the case where this method returns <code>false</code>.</p>
<h3 id="requestacceptscharsetscharsets">request.acceptsCharsets(charsets)</h3>
<p>Check if <code>charsets</code> are acceptable, returning
the best match when true, otherwise <code>false</code>.</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5</span>
<span class="hljs-keyword">this</span>.acceptsCharsets(<span class="hljs-string">&apos;utf-8&apos;</span>, <span class="hljs-string">&apos;utf-7&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;utf-8&quot;</span>

<span class="hljs-keyword">this</span>.acceptsCharsets([<span class="hljs-string">&apos;utf-7&apos;</span>, <span class="hljs-string">&apos;utf-8&apos;</span>]);
<span class="hljs-comment">// =&gt; &quot;utf-8&quot;</span>
</code></pre>
<p>When no arguments are given all accepted charsets
are returned as an array:</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5</span>
<span class="hljs-keyword">this</span>.acceptsCharsets();
<span class="hljs-comment">// =&gt; [&quot;utf-8&quot;, &quot;utf-7&quot;, &quot;iso-8859-1&quot;]</span>
</code></pre>
<h3 id="requestacceptslanguageslangs">request.acceptsLanguages(langs)</h3>
<p>Check if <code>langs</code> are acceptable, returning
the best match when true, otherwise <code>false</code>.</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept-Language: en;q=0.8, es, pt</span>
<span class="hljs-keyword">this</span>.acceptsLanguages(<span class="hljs-string">&apos;es&apos;</span>, <span class="hljs-string">&apos;en&apos;</span>);
<span class="hljs-comment">// =&gt; &quot;es&quot;</span>

<span class="hljs-keyword">this</span>.acceptsLanguages([<span class="hljs-string">&apos;en&apos;</span>, <span class="hljs-string">&apos;es&apos;</span>]);
<span class="hljs-comment">// =&gt; &quot;es&quot;</span>
</code></pre>
<p>When no arguments are given all accepted languages
are returned as an array:</p>
<pre><code class="lang-js"><span class="hljs-comment">// Accept-Language: en;q=0.8, es, pt</span>
<span class="hljs-keyword">this</span>.acceptsLanguages();
<span class="hljs-comment">// =&gt; [&quot;es&quot;, &quot;pt&quot;, &quot;en&quot;]</span>
</code></pre>
<h3 id="requestidempotent">request.idempotent</h3>
<p>Check if the request is idempotent.</p>
<h3 id="requestsocket">request.socket</h3>
<p>Return the request socket.</p>
<h3 id="requestgetfield">request.get(field)</h3>
<p>Return request header.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="context.html#response-aliases" class="navigation navigation-prev " aria-label="Previous page: Response aliases">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="response.html" class="navigation navigation-next " aria-label="Next page: Response">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Request","level":"17.1","depth":1,"next":{"title":"Response","level":"18.1","depth":1,"path":"response.md","ref":"response.md","articles":[]},"previous":{"title":"Response aliases","level":"16.1.3","depth":2,"anchor":"#response-aliases","path":"context.md","ref":"context.md#response-aliases","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","anchorjs","-search","-fontsettings","-sharing","versions","ga","github","feathers-collapsible-menu"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/strapi/strapi"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"highlight":{},"ga":{"configuration":"auto","token":"UA-54313258-1"},"versions":{"type":"branches","options":[{"value":"/documentation/1.x.x/","text":"Versions 1.x.x","selected":true},{"value":"/documentation/3.x.x/","text":"Versions 3.x.x","selected":false}]},"edit-link":{"label":"Edit This Page","base":"https://github.com/strapi/strapi/edit/structure/doc/docs/1.x.x"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{},"feathers-collapsible-menu":{}},"theme":"default","author":"Strapi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Strapi documentation","language":"en","gitbook":"*"},"file":{"path":"request.md","mtime":"2017-10-10T09:12:07.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-10-10T09:13:35.883Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-versions/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-feathers-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

